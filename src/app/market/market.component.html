<div class="w-full px-4">
  <nz-select
    class="min-w-12"
    nzPlaceHolder="Symbol Market"
    nzShowSearch
    [nzDropdownMatchSelectWidth]="false"
    [nzLoading]="ompfinexMarketsLoading$ | async"
    nzMode="default"
    [ngModel]="selectedSymbol()"
    (ngModelChange)="changeSymbol($event)">
    @for (marketSymbol of ompfinexMarkets$ | async; track $index) {
      <nz-option class="min-w-12" [nzKey]="marketSymbol.id" [nzValue]="marketSymbol" [nzLabel]="marketSymbol.symbol" nzCustomContent>
        <div class="flex w-full gap-4 items-center">
          <img class="w-4 h-4 object-cover" [ngSrc]="marketSymbol.baseCurrency.iconPath"
               [alt]="marketSymbol.baseCurrency.id" width="128" height="128">
          <strong>{{ marketSymbol.baseCurrency.id }}</strong>
        </div>
      </nz-option>
    }
  </nz-select>
</div>
<div id="chart_container" #chartCanvas></div>
