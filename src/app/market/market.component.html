<div class="w-full px-4">
  @if (ompfinexMarketsLoading$ | async; as loading) {
    <nz-skeleton-element
      nzType="input"
      [nzActive]="true"
      nzSize="default"
    ></nz-skeleton-element>
  } @else {
    <nz-select
      class="w-1/5"
      nzPlaceHolder="Symbol Market"
      nzShowSearch
      [nzDropdownMatchSelectWidth]="false"
      nzMode="default"
      [ngModel]="selectedSymbol()"
      (ngModelChange)="changeSymbol($event)">
      @for (marketSymbol of ompfinexMarkets$ | async; track $index) {
        <nz-option class="min-w-12" [nzKey]="marketSymbol.id" [nzValue]="marketSymbol" [nzLabel]="marketSymbol.symbol" nzCustomContent>
          <div class="flex w-full gap-4 items-center">
            <img class="w-4 h-4 object-cover" [ngSrc]="marketSymbol.baseCurrency.iconPath"
                 [alt]="marketSymbol.baseCurrency.id" width="128" height="128">
            <strong>{{ marketSymbol.baseCurrency.id }}</strong>
          </div>
        </nz-option>
      }
    </nz-select>
  }
</div>
<div class="relative">
    <div class="absolute right-0 top-0" id="chart_container" #chartCanvas></div>
    <div class="absolute right-0 top-0" id="omp_chart_container" #ompChartCanvas></div>
</div>
