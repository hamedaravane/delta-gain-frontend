<div class="my-4">
    <button nz-button nz-dropdown [nzDropdownMenu]="menu" nzPlacement="bottomLeft">Selected Columns</button>
</div>
@if ({arbitrages: arbitrages$ | async, isLoading: isArbitragesLoading$ | async, pages: arbitragesPages$ | async, table: arbitragesTableConstant}; as data) {
    <nz-table [nzLoadingDelay]="200" nzOuterBordered nzBordered nzShowSizeChanger>
        <thead>
            <tr>
                @for (header of data.table; track header.columnKey) {
                    <th [class.hidden]="!header.isVisible" nzAlign="center">{{ header.title }}</th>
                }
            </tr>
        </thead>
        <tbody>
            @for (arbitrage of data.arbitrages; track $index) {
                <tr>
                    @for (cell of data.table; track cell.columnKey) {
                        @switch (cell.valueType) {
                            @case ('number') {
                                <td [class.hidden]="!cell.isVisible" class="px-2" nzAlign="center">{{ arbitrage[cell.columnKey] | number: cell.digitsInfo ?? '1.2-2' }}</td>
                            }
                            @case ('date') {
                                <td [class.hidden]="!cell.isVisible" class="px-2" nzAlign="center">{{ arbitrage[cell.columnKey] | date: cell.dateFormat ?? 'short' }}</td>
                            }
                            @default {
                                <td [class.hidden]="!cell.isVisible" class="px-2" nzAlign="center">{{ arbitrage[cell.columnKey] }}</td>
                            }
                        }
                    }
                </tr>
            }
        </tbody>
    </nz-table>
}
<nz-dropdown-menu #menu="nzDropdownMenu">
    <ul nz-menu>
        <li nz-menu-item>1st menu item length</li>
        <li nz-menu-item>2nd menu item length</li>
        <li nz-menu-item>3rd menu item length</li>
    </ul>
</nz-dropdown-menu>